<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Inscription Parent - √âtape 1 ‚Üí √âtape 2</title>

<style> 
/* CSS UNIFI√â - PARFAIT */
* { box-sizing: border-box; margin: 0; padding: 0; }

body {
    font-family: Arial, sans-serif;
    background-color: #f5f5f5;
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    padding: 20px;
}

.container {
    background: white;
    padding: 30px;
    border-radius: 12px;
    box-shadow: 0 4px 20px rgba(0,0,0,0.1);
    width: 100%;
    max-width: 450px;
}

h1 { 
    font-size: 22px; 
    margin-bottom: 8px; 
    color: #333;
}

h2 { 
    font-size: 14px; 
    color: #666; 
    margin-bottom: 25px; 
}

.progress-bar {
    height: 5px;
    background: linear-gradient(90deg, #007bff, #0056b3);
    border-radius: 3px;
    margin-bottom: 25px;
    transition: width 0.4s ease;
}

.form-row { 
    display: flex; 
    gap: 15px; 
    margin-bottom: 15px; 
}

.form-group { 
    flex: 1; 
    margin-bottom: 20px; 
}

label { 
    display: block; 
    margin-bottom: 8px; 
    font-weight: 600; 
    color: #444;
    font-size: 14px;
}

input {
    width: 100%;
    padding: 14px 12px;
    border: 2px solid #e0e0e0;
    border-radius: 8px;
    font-size: 16px;
    transition: border-color 0.3s, box-shadow 0.3s;
}

input:focus {
    outline: none;
    border-color: #007bff;
    box-shadow: 0 0 0 3px rgba(0,123,255,0.1);
}

.buttons { 
    display: flex; 
    gap: 15px; 
    margin-top: 25px; 
}

button {
    flex: 1;
    padding: 14px 20px;
    border: none;
    border-radius: 8px;
    font-weight: bold;
    font-size: 16px;
    cursor: pointer;
    transition: all 0.3s;
}

.suivant, .inscrire { 
    background: #000; 
    color: white; 
}

.suivant:hover, .inscrire:hover { 
    background: #333; 
    transform: translateY(-2px);
}

.retour { 
    background: #f0f0f0; 
    color: #666;
}

.retour:hover { 
    background: #e0e0e0; 
}

#page2 { display: none; }

/* RESPONSIVE */
@media (max-width: 500px) {
    .form-row { flex-direction: column; gap: 0; }
    .buttons { flex-direction: column; }
}
</style>
</head>

<body>

<!-- CODE 1 - √âTAPE 1 -->
<div class="container" id="page1">
    <h1>Inscription Parent - √âtape 1/2</h1>
    <h2>Informations personnelles</h2>
    <div class="progress-bar" style="width:50%"></div>

    <form onsubmit="passerEtape2(event)">
        <div class="form-row">
            <div class="form-group">
                <label>Nom *</label>
                <input type="text" id="nom" required placeholder="Votre nom de famille">
            </div>
            <div class="form-group">
                <label>Pr√©noms *</label>
                <input type="text" id="prenoms" required placeholder="Vos pr√©noms">
            </div>
        </div>

        <div class="form-group">
            <label>√Çge *</label>
            <input type="number" id="age" required min="18" max="100" placeholder="Ex: 35">
        </div>

        <div class="form-group">
            <label>T√©l√©phone *</label>
            <input type="tel" id="telephone" required placeholder="+225 07 XX XX XX">
        </div>

        <div class="form-group">
            <label>Email *</label>
            <input type="email" id="email" required placeholder="votre@email.com">
        </div>

        <button type="submit" class="suivant">Suivant ‚Üí</button>
    </form>
</div>

<!-- CODE 2 - √âTAPE 2 -->
<div class="container" id="page2">
    <h1>Inscription Parent - √âtape 2/2</h1>
    <h2>Compl√©tez votre profil</h2>
    <div class="progress-bar" style="width:100%"></div>

    <form onsubmit="finaliserInscription(event)">
        <div class="form-group">
            <label>Lieu d'Habitation *</label>
            <input type="text" id="adresse" required placeholder="Ex: Zone 4, Abidjan">
        </div>
        
        <div class="form-group">
            <label>Profession *</label>
            <input type="text" id="profession" required placeholder="Ex: Ing√©nieur">
        </div>
        
        <div class="form-group">
            <label>Mot de passe *</label>
            <input type="password" id="password" required minlength="6" placeholder="Minimum 6 caract√®res">
        </div>
        
        <div class="form-group">
            <label>Confirmer mot de passe *</label>
            <input type="password" id="confirm-password" required minlength="6">
        </div>
        
        <div class="buttons">
            <button type="button" class="retour" onclick="retourEtape1()">‚Üê Retour</button>
            <button type="submit" class="inscrire">S'inscrire</button>
        </div>
    </form>
</div>

<script>
/* ========================================
   NAVIGATION √âTAPE 1 ‚Üí √âTAPE 2
   ======================================== */
function passerEtape2(event) {
    event.preventDefault();
    
    const nom = document.getElementById('nom').value.trim();
    const prenoms = document.getElementById('prenoms').value.trim();
    const age = parseInt(document.getElementById('age').value);
    
    if (!nom || !prenoms) {
        alert('‚ö†Ô∏è Nom et pr√©noms obligatoires');
        return;
    }
    
    if (age < 18 || age > 100) {
        alert('‚ö†Ô∏è √Çge entre 18 et 100 ans');
        return;
    }
    
    sessionStorage.setItem('inscription_etape1', JSON.stringify({
        nom, prenoms, age,
        telephone: document.getElementById('telephone').value,
        email: document.getElementById('email').value
    }));
    
    document.getElementById('page1').style.display = 'none';
    document.getElementById('page2').style.display = 'block';
}

/* ========================================
   RETOUR √âTAPE 2 ‚Üí √âTAPE 1
   ======================================== */
function retourEtape1() {
    document.getElementById('page1').style.display = 'block';
    document.getElementById('page2').style.display = 'none';
}

/* ========================================
   FINALISER INSCRIPTION
   ======================================== */
function finaliserInscription(event) {
    event.preventDefault();
    
    // Donn√©es √©tape 1
    const etape1 = JSON.parse(sessionStorage.getItem('inscription_etape1'));
    
    // Donn√©es √©tape 2
    const password = document.getElementById('password').value;
    const confirmPassword = document.getElementById('confirm-password').value;
    const adresse = document.getElementById('adresse').value.trim();
    const profession = document.getElementById('profession').value.trim();
    
    // VALIDATIONS
    if (password !== confirmPassword) {
        alert('‚ùå Mots de passe diff√©rents');
        return;
    }
    
    if (password.length < 6) {
        alert('‚ùå Mot de passe trop court');
        return;
    }
    
    if (!adresse || !profession) {
        alert('‚ö†Ô∏è Compl√©tez tous les champs');
        return;
    }
    
    // PROFIL FINAL
    const profil = {
        id: 'P' + Date.now().toString(36).substr(-8).toUpperCase(),
        nomComplet: etape1.nom + ' ' + etape1.prenoms,
        age: etape1.age + ' ans',
        telephone: etape1.telephone,
        email: etape1.email,
        lieu: adresse,
        profession: profession,
        enfants: [],
        conversations: 0,
        nounousDispo: 5
    };
    
    // SAUVEGARDE LOCALSTORAGE
    localStorage.setItem('parentData', JSON.stringify(profil));
    
    // ‚úÖ INSCRIPTION R√âUSSIE
    alert(`üéâ Inscription r√©ussie!\n\nID: ${profil.id}\nNom: ${profil.nomComplet}\n\nDonn√©es sauvegard√©es. Vous pouvez maintenant utiliser le tableau de bord s√©par√©ment.`);
    
    // Reset formulaire
    document.getElementById('page2').style.display = 'none';
    document.getElementById('page1').style.display = 'block';
    document.querySelector('#page1 form').reset();
    sessionStorage.removeItem('inscription_etape1');
}
</script>

</body>
</html>
