<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Inscription Parent - √âtape 1 ‚Üí √âtape 2</title>
<link rel="stylesheet" href="inscription_parent.css">
</head>

<body>

<!-- √âTAPE 1 UNIQUEMENT AFFICH√âE AU D√âBUT -->
<div class="container" id="page1">
    <h1>Inscription Parent - √âtape 1/2</h1>
    <h2>Informations personnelles</h2>
    <div class="progress-bar" style="width:50%"></div>

    <form onsubmit="passerEtape2(event)">
        <div class="form-row">
            <div class="form-group">
                <label>Nom *</label>
                <input type="text" id="nom" required placeholder="Votre nom de famille">
            </div>
            <div class="form-group">
                <label>Pr√©noms *</label>
                <input type="text" id="prenoms" required placeholder="Vos pr√©noms">
            </div>
        </div>

        <div class="form-group">
            <label>√Çge *</label>
            <input type="number" id="age" required min="18" max="100" placeholder="Ex: 35">
        </div>

        <div class="form-group">
            <label>T√©l√©phone *</label>
            <input type="tel" id="telephone" required placeholder="+225 07 XX XX XX">
        </div>

        <div class="form-group">
            <label>Email *</label>
            <input type="email" id="email" required placeholder="votre@email.com">
        </div>

        <button type="submit" class="suivant">Suivant ‚Üí</button>
    </form>
</div>

<!-- √âTAPE 2 - CACH√âE AU D√âBUT -->
<div class="container" id="page2" style="display: none;">
    <h1>Inscription Parent - √âtape 2/2</h1>
    <h2>Compl√©tez votre profil</h2>
    <div class="progress-bar" style="width:100%"></div>

    <form onsubmit="finaliserInscription(event)">
        <div class="form-group">
            <label>Lieu d'Habitation *</label>
            <input type="text" id="adresse" required placeholder="Ex: Zone 4, Abidjan">
        </div>
        
        <div class="form-group">
            <label>Profession *</label>
            <input type="text" id="profession" required placeholder="Ex: Ing√©nieur">
        </div>
        
        <div class="form-group">
            <label>Mot de passe *</label>
            <input type="password" id="password" required minlength="6" placeholder="Minimum 6 caract√®res">
        </div>
        
        <div class="form-group">
            <label>Confirmer mot de passe *</label>
            <input type="password" id="confirm-password" required minlength="6">
        </div>
        
        <div class="buttons">
            <button type="button" class="retour" onclick="retourEtape1()">‚Üê Retour</button>
            <button type="submit" class="inscrire">S'inscrire</button>
        </div>
    </form>
</div>

<script>
function passerEtape2(event) {
    event.preventDefault();
    
    const nom = document.getElementById('nom').value.trim();
    const prenoms = document.getElementById('prenoms').value.trim();
    const age = parseInt(document.getElementById('age').value);
    
    if (!nom || !prenoms) {
        alert('‚ö†Ô∏è Nom et pr√©noms obligatoires');
        return;
    }
    
    if (age < 18 || age > 100) {
        alert('‚ö†Ô∏è √Çge entre 18 et 100 ans');
        return;
    }
    
    sessionStorage.setItem('inscription_etape1', JSON.stringify({
        nom, prenoms, age,
        telephone: document.getElementById('telephone').value,
        email: document.getElementById('email').value
    }));
    
    // ‚úÖ AFFICHER √âTAPE 2 UNIQUEMENT
    document.getElementById('page1').style.display = 'none';
    document.getElementById('page2').style.display = 'block';
}

function retourEtape1() {
    document.getElementById('page1').style.display = 'block';
    document.getElementById('page2').style.display = 'none';
}

function finaliserInscription(event) {
    event.preventDefault();
    
    const etape1 = JSON.parse(sessionStorage.getItem('inscription_etape1'));
    const password = document.getElementById('password').value;
    const confirmPassword = document.getElementById('confirm-password').value;
    const adresse = document.getElementById('adresse').value.trim();
    const profession = document.getElementById('profession').value.trim();
    
    if (password !== confirmPassword) {
        alert('‚ùå Mots de passe diff√©rents');
        return;
    }
    
    if (password.length < 6) {
        alert('‚ùå Mot de passe trop court');
        return;
    }
    
    if (!adresse || !profession) {
        alert('‚ö†Ô∏è Compl√©tez tous les champs');
        return;
    }
    
    const profil = {
        id: 'P' + Date.now().toString(36).substr(-8).toUpperCase(),
        nomComplet: etape1.nom + ' ' + etape1.prenoms,
        age: etape1.age + ' ans',
        telephone: etape1.telephone,
        email: etape1.email,
        lieu: adresse,
        profession: profession,
        enfants: [],
        conversations: 0,
        nounousDispo: 5
    };
    
    localStorage.setItem('parentData', JSON.stringify(profil));
    
    alert(`üéâ Inscription r√©ussie!\n\nID: ${profil.id}\nNom: ${profil.nomComplet}\n\nDonn√©es sauvegard√©es.`);
    
    // RETOUR √Ä L'√âTAPE 1
    document.getElementById('page2').style.display = 'none';
    document.getElementById('page1').style.display = 'block';
    document.querySelector('#page1 form').reset();
    sessionStorage.removeItem('inscription_etape1');
}
</script>

</body>
</html>
