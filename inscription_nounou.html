<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Inscription Nounou</title>
<link rel="stylesheet" href="inscription_nounou.css">
</head>
<body>

<!-- √âtape 1 - Visible par d√©faut -->
<div class="form-container step active" id="etape1">
    <h1>Inscription Nounou - √âtape 1/2</h1>
    <h2>Informations personnelles et comp√©tences</h2>
    <div class="progress-bar">
        <div class="progress-fill" id="progress-fill" style="width:50%;"></div>
    </div>
    <form id="formEtape1">
        <div class="form-group">
            <label>Nom *</label>
            <input type="text" id="nom" required>
        </div>
        <div class="form-group">
            <label>Pr√©noms *</label>
            <input type="text" id="prenom" required>
        </div>
        <div class="form-group">
            <label>√Çge *</label>
            <input type="number" id="age" min="18" max="65" required>
        </div>
        <div class="form-group">
            <label>Sexe *</label>
            <div class="radio-group">
                <label><input type="radio" name="sexe" value="Femme" required> Femme</label>
                <label><input type="radio" name="sexe" value="Homme" required> Homme</label>
            </div>
        </div>
        <div class="form-group">
            <label>T√©l√©phone *</label>
            <input type="tel" id="telephone" required>
        </div>
        <div class="form-group">
            <label>Comp√©tences * (choisir au moins 1)</label>
            <div class="checkbox-group">
                <label><input type="checkbox" value="Cuisine"> üç≥ Cuisine</label>
                <label><input type="checkbox" value="M√©nage"> üßπ M√©nage</label>
                <label><input type="checkbox" value="Baby-sitting"> üë∂ Baby-sitting</label>
            </div>
        </div>
        <button type="submit" class="btn btn-primary"> Suivant ‚Üí </button>
    </form>
</div>

<!-- √âtape 2 - Cach√©e par d√©faut -->
<div class="form-container step" id="etape2" style="display: none;">
    <h1>Inscription Nounou - √âtape 2/2</h1>
    <h2>Informations professionnelles et s√©curit√©</h2>
    <div class="progress-bar">
        <div class="progress-fill" style="width:100%;"></div>
    </div>
    <form id="formEtape2">
        <div class="form-group">
            <label>Niveau Scolaire *</label>
            <input type="text" id="niveauScolaire" required placeholder="Ex: BAC, Licence, Master">
        </div>
        <div class="form-group">
            <label>Lieu de R√©sidence *</label>
            <input type="text" id="lieuResidence" required placeholder="Ex: Zone 4, Abidjan">
        </div>
        <div class="form-group">
            <label>Tarif Horaire (FCFA) *</label>
            <input type="number" id="tarifHoraire" min="1000" required placeholder="Ex: 2000">
        </div>
        <div class="form-group">
            <label>Mot de passe *</label>
            <input type="password" id="motDePasse" minlength="6" required>
            <div class="password-info">Minimum 6 caract√®res</div>
        </div>
        <div class="form-group">
            <label>Confirmer mot de passe *</label>
            <input type="password" id="confirmerMotDePasse" minlength="6" required>
        </div>
        <div class="buttons">
            <button type="button" class="btn btn-secondary" onclick="retourEtape1()">‚Üê Retour</button>
            <button type="submit" class="btn btn-primary">S'inscrire ‚Üí </button>
        </div>
    </form>
</div>

<script>
// === JS int√©gr√© formulaire ===
document.getElementById('formEtape1').addEventListener('submit', function(e){
    e.preventDefault();
    const nom = document.getElementById('nom').value.trim();
    const prenom = document.getElementById('prenom').value.trim();
    const age = document.getElementById('age').value;
    const sexe = document.querySelector('input[name="sexe"]:checked');
    const telephone = document.getElementById('telephone').value.trim();
    const competences = Array.from(document.querySelectorAll('#etape1 input[type="checkbox"]:checked')).map(cb=>cb.value);

    if(!nom || !prenom || !age || !sexe || !telephone || competences.length===0){
        alert('‚ö†Ô∏è Remplissez tous les champs obligatoires et choisissez au moins 1 comp√©tence');
        return;
    }
    if(age < 18 || age > 65){ alert('‚ö†Ô∏è √Çge entre 18 et 65 ans'); return; }

    sessionStorage.setItem('nounou_etape1', JSON.stringify({nom, prenom, age, sexe:sexe.value, telephone, competences}));
    document.getElementById('etape1').style.display = 'none';
    document.getElementById('etape2').style.display = 'block';
    document.getElementById('progress-fill').style.width='100%';
});

function retourEtape1(){
    document.getElementById('etape2').style.display = 'none';
    document.getElementById('etape1').style.display = 'block';
    document.getElementById('progress-fill').style.width='50%';
}

document.getElementById('formEtape2').addEventListener('submit', function(e){
    e.preventDefault();
    const etape1 = JSON.parse(sessionStorage.getItem('nounou_etape1'));
    const niveauScolaire = document.getElementById('niveauScolaire').value.trim();
    const lieuResidence = document.getElementById('lieuResidence').value.trim();
    const tarifHoraire = document.getElementById('tarifHoraire').value;
    const motDePasse = document.getElementById('motDePasse').value;
    const confirmerMotDePasse = document.getElementById('confirmerMotDePasse').value;

    if(!niveauScolaire||!lieuResidence||!tarifHoraire){ alert('‚ö†Ô∏è Remplissez tous les champs obligatoires'); return; }
    if(motDePasse!==confirmerMotDePasse){ alert('‚ùå Les mots de passe ne correspondent pas'); return; }
    if(motDePasse.length<6){ alert('‚ùå Mot de passe trop court'); return; }
    if(tarifHoraire<1000){ alert('‚ö†Ô∏è Tarif minimum: 1000 FCFA'); return; }

    const profilNounou = {...etape1,niveauScolaire,lieuResidence,tarifHoraire:tarifHoraire+' FCFA/heure', messagesCount:3, demandesCount:3};
    localStorage.setItem('nounouData', JSON.stringify(profilNounou));
    alert('‚úÖ Inscription r√©ussie ! Redirection vers tableau de bord...');
    // window.location.href='dashboard.html';
});
</script>
</body>
</html>
